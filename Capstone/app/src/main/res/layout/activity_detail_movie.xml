<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    tools:context=".view.DetailMovieActivity">

    <data>
        <variable
            name="movieDetail"
            type="com.example.capstone.data.local.Movie" />
    </data>

    <androidx.swiperefreshlayout.widget.SwipeRefreshLayout
        android:id="@+id/swipeRefreshLayout"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <RelativeLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:background="@color/background_color">

            <ScrollView
                android:id="@+id/scrollView"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:padding="16dp">

                <RelativeLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content">

                    <ImageView
                        android:id="@+id/iv_movie_poster"
                        android:layout_width="120dp"
                        android:layout_height="180dp"
                        android:layout_alignParentStart="true"
                        android:contentDescription="@{movieDetail.title}"
                        android:scaleType="centerCrop"
                        android:src="@drawable/ic_movie_placeholder"
                        android:layout_marginEnd="16dp" />

                    <TextView
                        android:id="@+id/tv_title"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_toEndOf="@id/iv_movie_poster"
                        android:layout_alignParentTop="true"
                        android:text="@{movieDetail.title}"
                        android:textSize="24sp"
                        android:textStyle="bold"
                        android:layout_marginTop="12dp"
                        android:textColor="@color/text_primary_color" />

                    <LinearLayout
                        android:id="@+id/ll_genres"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_toEndOf="@id/iv_movie_poster"
                        android:layout_below="@id/tv_title"
                        android:layout_marginTop="15dp"
                        android:orientation="horizontal"
                        android:gravity="center_vertical">

                        <ImageView
                            android:layout_width="20dp"
                            android:layout_height="20dp"
                            android:src="@drawable/ic_genre"
                            android:contentDescription="@string/genre_icon" />

                        <TextView
                            android:id="@+id/tv_genres"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_marginStart="4dp"
                            android:text="@{movieDetail.genres}"
                            android:textSize="16sp"
                            android:textColor="@color/text_secondary_color" />

                    </LinearLayout>

                    <LinearLayout
                        android:id="@+id/ll_rating"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_toEndOf="@id/iv_movie_poster"
                        android:layout_below="@id/ll_genres"
                        android:layout_marginTop="8dp"
                        android:orientation="horizontal"
                        android:gravity="center_vertical">

                        <ImageView
                            android:layout_width="20dp"
                            android:layout_height="20dp"
                            android:src="@drawable/ic_star"
                            android:contentDescription="@string/star_icon" />

                        <TextView
                            android:id="@+id/tv_predicted_rating"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_marginStart="4dp"
                            android:text="Rating: -"
                            android:textSize="16sp"
                            android:textColor="@color/text_secondary_color" />

                    </LinearLayout>

                    <TextView
                        android:id="@+id/tv_synopsis"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_below="@id/iv_movie_poster"
                        android:layout_marginTop="16dp"
                        android:text="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque tincidunt velit vitae sem tristique, in consectetur magna consectetur. Donec id lacinia orci. Proin vulputate nec libero nec dapibus. Sed sit amet est libero. Nullam et turpis sit amet quam volutpat tempus."
                        android:textSize="16sp"
                        android:textColor="@color/text_primary_color" />

                    <TextView
                        android:id="@+id/reviews_title"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_below="@id/tv_synopsis"
                        android:layout_marginTop="16dp"
                        android:text="User Reviews"
                        android:textColor="@color/text_primary_color"
                        android:textSize="18sp"
                        android:textStyle="bold" />

                    <TextView
                        android:id="@+id/noReviewsText"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_below="@id/reviews_title"
                        android:layout_marginTop="8dp"
                        android:text="No reviews available"
                        android:textColor="@color/text_primary_color"
                        android:visibility="gone" />

                    <androidx.recyclerview.widget.RecyclerView
                        android:id="@+id/reviews_recycler_view"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_below="@id/noReviewsText"
                        android:layout_marginTop="8dp"
                        android:paddingBottom="16dp" />
                </RelativeLayout>
            </ScrollView>

            <com.google.android.material.floatingactionbutton.FloatingActionButton
                android:id="@+id/fab"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentEnd="true"
                android:layout_alignParentBottom="true"
                android:layout_margin="16dp"
                android:src="@drawable/ic_star"
                app:backgroundTint="@color/dark_blue"
                app:tint="@android:color/white" />

            <RelativeLayout
                android:id="@+id/rating_layout"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:padding="16dp"
                android:background="@color/white"
                android:elevation="8dp"
                android:visibility="gone"
                android:layout_above="@+id/fab"
                android:layout_marginBottom="16dp">

                <RatingBar
                    android:id="@+id/rating_bar"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:numStars="5"
                    android:stepSize="1.0"
                    android:layout_centerHorizontal="true" />

                <Button
                    android:id="@+id/submit_review_button"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Submit"
                    android:layout_centerHorizontal="true"
                    android:layout_below="@id/rating_bar"
                    android:layout_marginTop="16dp" />
            </RelativeLayout>

        </RelativeLayout>
    </androidx.swiperefreshlayout.widget.SwipeRefreshLayout>
</layout>
